spark:
  master:
    image:
      repository: apache/spark
      tag: 3.5.0
      pullPolicy: IfNotPresent

    replicas: 1

    ports:
      web: 8080
      cluster: 7077
      ui: 4040

    service:
      type: ClusterIP
      webPort: 8080
      clusterPort: 7077
      uiPort: 4040

    resources:
      limits:
        cpu: 500m
        memory: 1Gi
      requests:
        cpu: 250m
        memory: 512Mi

    env:
      - name: SPARK_MASTER_PORT
        value: "7077"
      - name: SPARK_MASTER_WEBUI_PORT
        value: "8080"
      - name: SPARK_HADOOP_FS_DEFAULTFS
        value: hdfs://hadoop-namenode:9000

    persistence:
      enabled: false
      storageClass: ""
      size: 2Gi

  worker:
    image:
      repository: apache/spark
      tag: 3.5.0
      pullPolicy: IfNotPresent

    replicas: 2

    ports:
      web: 8081

    service:
      type: ClusterIP
      webPort: 8081

    resources:
      limits:
        cpu: 500m
        memory: 1Gi
      requests:
        cpu: 250m
        memory: 512Mi

    env:
      - name: SPARK_WORKER_MEMORY
        value: "2G"
      - name: SPARK_WORKER_CORES
        value: "2"
      - name: SPARK_WORKER_WEBUI_PORT
        value: "8081"
      - name: SPARK_HADOOP_FS_DEFAULTFS
        value: hdfs://hadoop-namenode:9000

nameOverride: ""
fullnameOverride: ""